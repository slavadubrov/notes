site_name: "Edge of Context: Practical AI Engineering"
site_url: https://slavadubrov.github.io/
site_description: "Practical notes on AI Engineering"

hooks:
  - hooks/blog_posts_hook.py

theme:
  name: material
  custom_dir: overrides
  logo: assets/logo-eoc.svg
  favicon: assets/favicon-eoc.svg
  features:
    - navigation.instant # Enables instant loading of pages when clicking navigation links
    - navigation.instant.prefetch # Preloads pages linked from the current page for faster navigation
    - navigation.tabs # Adds top-level sections as tabs in the header
    - navigation.tabs.sticky # Makes navigation tabs stick to the top when scrolling
    - navigation.sections # Renders top-level sections as groups in the sidebar
    - navigation.expand # Expands all collapsible subsections by default
    - navigation.path # Adds breadcrumbs showing the path to the current page
    - navigation.indexes # Enables the use of index pages in sections
    - navigation.toc # Enables the table of contents for each page
    - navigation.toc.sticky # Makes the table of contents stick to the page while scrolling
    - navigation.toc.maxdepth # Sets the maximum depth of the table of contents
    - navigation.toc.title # Displays a title for the table of contents
    - navigation.toc.collapse # Allows collapsing sections in the table of contents
    - navigation.toc.collapse_empty_groups # Collapses empty groups in the table of contents
    - navigation.toc.collapse_single_children # Collapses groups with only a single child
    - content.code.copy
  # Theme settings; custom JS is configured via top-level `extra_javascript`.
  font:
    text: Roboto
  palette:
    - scheme: default
      primary: indigo
      accent: indigo
      toggle:
        icon: material/brightness-7
        name: Switch to dark mode
    - scheme: slate
      primary: indigo
      accent: indigo
      toggle:
        icon: material/brightness-4
        name: Switch to light mode

extra_css:
  - assets/brand.css
  - assets/blog-sidebar.css

extra_javascript:
  - https://cdn.jsdelivr.net/npm/mermaid@11/dist/mermaid.min.js
  - javascripts/mermaid-init.js

extra:
  social:
    - icon: fontawesome/brands/linkedin
      name: LinkedIn
      link: https://www.linkedin.com/in/slavadubrov
    - icon: simple/substack
      name: Substack
      link: https://slavadubrov.substack.com/
    - icon: fontawesome/brands/github
      name: GitHub
      link: https://github.com/slavadubrov
    - icon: material/rss
      name: RSS
      link: /feed_rss_created.xml

markdown_extensions: # Configures Markdown extensions for additional functionality
  - admonition
  - pymdownx.superfences: # Adds support for code blocks with syntax highlighting
      custom_fences:
        - name: mermaid
          class: mermaid
          format: !!python/name:pymdownx.superfences.fence_code_format
  - pymdownx.highlight:
      linenums: false
      use_pygments: true
  - attr_list # Enables custom attributes for Markdown elements
  - md_in_html # Allows Markdown syntax inside HTML blocks
  - pymdownx.emoji: # Adds support for emoji shortcodes
      emoji_index:
        !!python/name:material.extensions.emoji.twemoji # Uses Twemoji as the emoji index


      emoji_generator:
        !!python/name:material.extensions.emoji.to_svg # Renders emojis as SVG


plugins: # Configures MkDocs plugins for extended functionality
  - search # Adds search functionality to the site
  - kroki:
      server_url: https://kroki.io
      fence_prefix: mermaid
      file_types:
        - png
        - svg
      file_type_overrides:
        mermaid: png
  - blog: # Enables blog functionality
      post_excerpt: required # fail the build if <!-- more --> is missing
      post_readtime: false # don't show readingâ€‘time badges
      post_excerpt_max_authors: 0 # hide author chips in the list
      post_excerpt_max_categories: 0 # hide category chips in the list
      categories_name: Topics
      categories_allowed:
        - AI Engineering
        - Agentic AI
        - Infrastructure
        - Tooling
        - Python

  - macros # Allows using variables and macros in Markdown
  - mermaid-to-svg:
      enabled_if_env: "MKDOCS_SSR_MERMAID"
      mmdc_path: "node_modules/.bin/mmdc"
      error_on_fail: false
      mermaid_config:
        startOnLoad: false
        theme: default
        securityLevel: strict
  - rss: # Configures RSS feed generation
      use_material_blog: true # Ensure Material blog integration is enabled
      abstract_chars_count: -1 # Serve the full HTML content in each RSS item
      length: 100 # Increase the number of items exposed in the feed
      match_path: blog/posts/.* # Restrict RSS feed items to actual blog posts
      date_from_meta: # Defines how to extract dates for RSS entries
        as_creation: date.created # Uses the 'date.created' metadata field as creation date
        as_update: date.updated # Uses the 'date.updated' metadata field as update date
      categories: # Configures RSS feed categories
        - categories # Uses 'categories' metadata field
      feed_title: "Edge of Context: Tips and Tricks in Machine Learning" # Override feed title to avoid XML escaping issues with &
      image: https://slavadubrov.github.io/assets/logo-eoc.svg # RSS feed image URL

nav:
  - Home: index.md
  - Blog:
      - blog/index.md
  - About: about.md
